<mvc:View controllerName="com.bmc.hcm.drf.zhcmuxdrf.controller.RequestList" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.f.semantic"
	xmlns:footerbar="sap.ushell.ui.footerbar" xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
	busy="{requestListView>/busy}" busyIndicatorDelay="100">
	<Page showFooter="true" showHeader="true" floatingFooter="true" showNavButton="true" navButtonPress="onNavBack"
		title="{i18n>EMPLOYEE_REQUEST_FORM_LIST}" class="erfListPage">
		<IconTabBar id="idIconTabBar" select="onIconFilterSelect" stretchContentHeight="true" selectedKey="{requestListView>/selectedKey}">
			<items>
				<IconTabFilter icon="sap-icon://save" iconColor="Neutral" count="{requestListView>/searchResults/DRF}" text="{i18n>DRAFT_REQUESTS}"
					key="DRF"/>
				<IconTabFilter icon="sap-icon://pending" iconColor="Critical" count="{requestListView>/searchResults/PND}" text="{i18n>PENDING_REQUESTS}"
					key="PND"/>
				<IconTabFilter icon="sap-icon://accept" iconColor="Positive" count="{requestListView>/searchResults/APP}" text="{i18n>APPROVED_REQUESTS}"
					key="APP"/>
				<IconTabFilter icon="sap-icon://decline" iconColor="Negative" count="{requestListView>/searchResults/REJ}" text="{i18n>REJECTED_REQUESTS}"
					key="REJ"/>
				<IconTabSeparator/>
				<IconTabFilter icon="sap-icon://checklist" count="{requestListView>/searchResults/ALL}" text="{i18n>ALL_REQUESTS}" key="ALL"/>
			</items>
			<content>
				<Table id="idEmployeeRequestTable" width="auto"
					items="{ path: '/EmployeeRequestFormSet',filters : [ { path : 'Erfap', operator : 'EQ', value1 : 'MY_REQUESTS'}, { path : 'Erfsf', operator : 'EQ', value1 : 'DRF'} ] }"
					noDataText="{requestListView>/tableNoDataText}" busyIndicatorDelay="{requestListView>/tableBusyDelay}" growing="true"
					growingScrollToLoad="true" updateFinished="onUpdateFinished" updateStarted="onUpdateStarted" class="erfTable">
					<headerToolbar>
						<Toolbar>
							<ToolbarSpacer/>
							<SearchField id="searchField" placeholder="{i18n>REQUEST_SEARCH_TOOLTIP}" search="onSearch"
								width="{= ${device>/system/phone} ? '100%' : '50%' }"></SearchField>
						</Toolbar>
					</headerToolbar>
					<infoToolbar>
						<Toolbar>
							<Title id="tableHeader" text="{requestListView>/requestListTableTitle}"/>
						</Toolbar>
					</infoToolbar>
					<columns>
						<Column id="idRequestNumberColumn">
							<Text text="{i18n>ERF_NUMBER}"/>
						</Column>
						<Column id="idPositionColumn">
							<Text text="{i18n>POSITION}"/>
						</Column>
						<Column id="idRequestReasonColumn">
							<Text text="{i18n>REQUEST_REASON}"/>
						</Column>
						<Column id="idRequiredQualificationColumn" minScreenWidth="Desktop">
							<Text text="{i18n>REQUIRED_QUALIFICATION_TR}"/>
						</Column>
						<Column id="idJobDescriptionColumn" minScreenWidth="Desktop">
							<Text text="{i18n>JOB_DESCRIPTION_TR}"/>
						</Column>
						<Column id="idRequestKapsam1">
							<Text text="Kadro kapsamÄ±"/>
						</Column>
						<Column id="idRequestDateColumn" minScreenWidth="Tablet" demandPopin="true"
							visible="{ path:'requestListView>/selectedKey', formatter: '.formatter.checkDateColumnVisible' }">
							<Text text="{i18n>REQUEST_DATE}"/>
						</Column>
						<Column id="idRequestStatusColumn" minScreenWidth="Tablet" demandPopin="true"
							visible="{ path:'requestListView>/selectedKey', formatter: '.formatter.checkStatusColumnVisible' }">
							<Text text="{i18n>REQUEST_STATUS}"/>
						</Column>
						<Column id="idRequestOnWhoColumn" minScreenWidth="Desktop" demandPopin="true"
							visible="{ path:'requestListView>/selectedKey', formatter: '.formatter.checkStatusColumnVisible' }">
							<Text text="{i18n>REQUEST_ON_WHO}"/>
						</Column>
						<Column id="idRecruiterColumn" minScreenWidth="Tablet" demandPopin="true"
							visible="{ path:'requestListView>/selectedKey', formatter: '.formatter.checkIfApproved' }">
							<Text text="{i18n>RECRUITER_NAME}"/>
						</Column>
						<Column id="idRecruiterAssignDateColumn" minScreenWidth="Tablet" demandPopin="true" hAlign="Center"
							visible="{ path:'requestListView>/selectedKey', formatter: '.formatter.checkIfApproved' }">
							<Text text="{i18n>RECRUITER_ASSIGN_DATE}"/>
						</Column>
						<Column id="idRecruitmentStatusColumn" minScreenWidth="Tablet" demandPopin="true" hAlign="Center"
							visible="{ path:'requestListView>/selectedKey', formatter: '.formatter.checkIfApproved' }">
							<Text text="{i18n>RECRUITMENT_STATUS}"/>
						</Column>
						<Column id="idActionsColumn" minScreenWidth="Tablet" width="5rem" hAlign="Center">
							<Text text="{i18n>ACTION_LIST}"/>
						</Column>
					</columns>
					<items>
						<ColumnListItem type="Navigation" press="onPress">
							<cells>
								<ObjectIdentifier title="{Erfno}"/>
								<Text text="{= ${Nopln} ? ${Plaft} : ${Plstx} }"/>
								<Text text="{Erfrx}"/>
								<Text text="{ErfrqTr}" wrapping="true" maxLines="3" tooltip="{ErfrqTr}"/>
								<Text text="{ErfjdTr}" wrapping="true" maxLines="3" tooltip="{ErfjdTr}"/>
								<Text text="{Stasx}"/>
								<Text
									text="{ path: 'Rqdat', type: 'sap.ui.model.type.Date', formatOptions: { pattern:'dd.MM.yyyy'} } - { path: 'Rqtim', type: 'sap.ui.model.odata.type.Time', formatOptions: { pattern:'HH:mm'} }"/>
								<Text text="{ parts: [ {path: 'Erfsx' }, {path: 'Erfsy' }], formatter: '.formatter.getStatusText' }"/>
								<Text text="{Frone}"/>
								<Text text="{Erfoe}"/>
								<Text
									text="{ path: 'Erfad', type: 'sap.ui.model.type.Date', formatOptions: { pattern:'dd.MM.yyyy'} } - { path: 'Erfat', type: 'sap.ui.model.odata.type.Time', formatOptions: { pattern:'HH:mm'} }"/>
								<VBox alignItems="Center" justifyContent="Center">
									<HBox class="sapUiTinyMarginBottom">
										<Text text="{i18n>INTERNAL_POSTING_ON}" visible="{ErfpiInt}" class="sapUiTinyMarginEnd"/>
										<Text text="{i18n>EXTERNAL_POSTING_ON}" visible="{ErfpiExt}"/>
									</HBox>
									<Link text="{parts:[{path:'Cndex'},{path:'Cndin'}], formatter: '.formatter.sumCandidate'} {i18n>CANDIDATE_IS_ADDED}" wrapping="true"
										press="onDisplayForm" class="erfActionLinkMiddle" cd:formId="{Erfid}"/>
									<HBox class="sapUiTinyMarginBottom">
										<Text text="{Cndex} {i18n>EXTERNAL_APPLICANT_LC}" class="erfExternalCandidateToken sapUiTinyMarginEnd"/>
										<Text text="{Cndin} {i18n>INTERNAL_APPLICANT_LC}" class="erfInternalCandidateToken"/>
									</HBox>
									<Link text=" {Cprin} {i18n>CANDIDATE_IN_INTERVIEW_PROCESS}" visible="{= ${Cprin} > 0 }" wrapping="true" press="onDisplayForm"
										class="erfActionLinkSmall" cd:formId="{Erfid}"/>
									<Link text="{Cprrc} {i18n>CANDIDATE_IN_RECRUITMENT_PROCESS}" visible="{= ${Cprrc} > 0 }" wrapping="true" press="onDisplayForm"
										class="erfActionLinkSmall" cd:formId="{Erfid}"/>
								</VBox>
								<Button icon="sap-icon://menu" type="Accept" press="onAvailableRequestActions" tooltip="{i18n>ACTION_LIST}"
									visible="{ path:'Erfsf', formatter: '.onCheckActionAvailable'}" class="erfActionButton"></Button>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</content>
		</IconTabBar>
		<footer>
			<OverflowToolbar>
				<ToolbarSpacer/>
				<Button text="{i18n>NEW_EMPLOYEE_REQUEST_BUTTON}" tooltip="{i18n>NEW_EMPLOYEE_REQUEST_BUTTON_TOOLTIP}" icon="sap-icon://add-employee"
					press="onNewEmployeeRequest" type="Accept" visible="{requestListView>/newRequestButtonVisible}"/>
			</OverflowToolbar>
		</footer>
	</Page>
</mvc:View>