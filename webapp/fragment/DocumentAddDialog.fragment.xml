<c:FragmentDefinition xmlns="sap.m"
	xmlns:c="sap.ui.core"
	xmlns:core="sap.ui.core"
	xmlns:f="sap.ui.layout.form"
	xmlns:u="sap.ui.unified">

	<Dialog title="{i18n>DOCUMENT_UPLOAD_LISTING}" contentWidth="50%" contentHeight="500px" resizable="true">
		<MessageStrip class="sapUiSmallMargin" text="{i18n>MAX_FILE_SIZE_INFO}" type="Information" showCloseButton="true" showIcon="true"/>
			<VBox class="sapUiSmallMargin">
				<Label text="Evrak Türü Seçiniz:" required="true"/>
				<ComboBox required="true" 
						  selectedKey="{employeeRequestView>/selectedDocumentType}"
						  items="{employeeRequestView>/valueHelpList/Drfev}" 
						  width="300px"
						  selectionChange="onDocumentTypeSelectionChange">
					<core:Item key="{employeeRequestView>Fldky}" text="{employeeRequestView>Fldvl}"/>
				</ComboBox>
				<Button text="Şablon İndir" required="true" icon="sap-icon://download" press="onPdfDowlandPress" visible="{employeeRequestView>/downloadButtonVisible}" />
			</VBox>
		<f:Form id="idUploadAttachmentForm" class="candidateFileUploader" editable="true">
			<f:layout>
				<f:ResponsiveGridLayout labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="true"/>
			</f:layout>

			<f:formContainers>
				<f:FormContainer>
					<f:formElements>
						<f:FormElement label="{i18n>DOCUMENT_UPLOAD}">
							<f:fields>
								<u:FileUploader id="idAttachmentFileUploader" name="candidateFileUploader" uploadUrl="" uploadComplete="onAttachmentUploadComplete" change="onAttachmentFileChange" typeMissmatch="onFileTypeMissmatch" style="Emphasized" fileType="pdf,xls,xlsx,doc,docx,tiff,jpg,png,zip,rar,msg,eml" maximumFileSize="5" fileSizeExceed="onFileSizeExceed" placeholder="{i18n>LABEL_UPLOAD_PLACEHOLDER}" sendXHR="true" useMultipart="false" class="candidateFileUploader" width="95%"></u:FileUploader>
							</f:fields>
						</f:FormElement>
					</f:formElements>
				</f:FormContainer>
			</f:formContainers>
		</f:Form>
		<buttons>
			<Button text="{i18n>CANCEL}" icon="sap-icon://cancel" press="onCloseUploadFormDialog"/>
			<Button text="{i18n>UPLOAD_BUTTON}" icon="sap-icon://upload" type="Accept" press="onAttachmentUploadPress" id="idUploadCandidateInterviewForm"/>
		</buttons>
		<VBox class="sapUiSmallMargin">
			<Table id="idCandidateAttachmentList" busy="{candidateModel>/busy}" busyIndicatorDelay="0" items="{path: '/EmployeeAttachmentSet'}" class="erfTable">
				<!-- <infoToolbar>
					<Toolbar>
						<Title id="tableHeader" text="{i18n>DOCUMENT_LIST}"/>
					</Toolbar>
				</infoToolbar> -->
				<columns>
					<Column >
						<Text text="{i18n>ATTACHMENT_FILE_NAME}"/>
					</Column>
					<Column hAlign="Center">
						<Text text="Evrak Türü"/>
					</Column>
					<Column hAlign="Center">
						<Text text="{i18n>CREATION_DATE}"/>
					</Column>
					<Column hAlign="Center">
						<Text text="{i18n>ACTION}"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem>
						<cells>
							<Link press="onAttachDownload" text="{Aname}"/>
							<Text text="{Zevtx}"/>
							<!-- <Text text="{parts: [{path:'candidateModel>/helpText/Canat'}, {path:'Attty'}], formatter: '._getValueHelpText' }"/> -->
							<Text text="{ path: 'Crdat', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd.MM.yyyy'}}"/>
							<HBox justifyContent="Center">
								<Button type="Reject" class="sapUiSmallMarginEnd" icon="sap-icon://delete" press="onDeleteAttachment"/>
							</HBox>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</VBox>
	</Dialog>
</c:FragmentDefinition>